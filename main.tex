\documentclass[a4paper,11pt]{book}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Paquetes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{csquotes}
\usepackage[inline]{enumitem}
\usepackage{graphicx}
\usepackage[official]{eurosym}
\usepackage{listings}
\usepackage{multirow}

\decimalpoint
\usepackage{dcolumn}
\newcolumntype{.}{D{.}{\esperiod}{-1}}
\makeatletter
\addto\shorthandsspanish{\let\esperiod\es@period@code}
\makeatother

\RequirePackage{verbatim}
\usepackage{fancyhdr}
\usepackage{afterpage}
\usepackage{longtable}
\usepackage[pdfborder={0 0 0}]{hyperref} %referencia
\usepackage{url}
\usepackage{colortbl}
\usepackage[stable]{footmisc}
\usepackage{pdfpages}

% ********************************************************************
% Re-usable information
% ********************************************************************

\newcommand{\myTitle}{Desarrollo de un instrumento musical digital\xspace}
\newcommand{\myDegree}{Grado en Ingeniería Informática\xspace}
\newcommand{\myName}{Jesús Jiménez Sánchez (alumno)\xspace}
\newcommand{\myProf}{Alberto Guillén Perales (tutor1)\xspace}
%\newcommand{\mySupervisor}{Put name here\xspace}
\newcommand{\myFaculty}{Escuela Técnica Superior de Ingenierías Informática y de Telecomunicación\xspace}
\newcommand{\myFacultyShort}{E.T.S. de Ingenierías Informática y de Telecomunicación\xspace}
\newcommand{\myDepartment}{Departamento de ...\xspace}
\newcommand{\myUni}{\protect{Universidad de Granada}\xspace}
\newcommand{\myLocation}{Granada\xspace}
\newcommand{\myTime}{\today\xspace}
\newcommand{\myVersion}{Version 0.1\xspace}


%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Preparar pdf
%%%%%%%%%%%%%%%%%%%%%%%%%%%

\hypersetup{
    pdfauthor = {\myName (jesusjimsa@correo.ugr.es)},
    pdftitle = {\myTitle},
    pdfsubject = {},
    pdfkeywords = {palabraclave1, palabraclave2, palabraclave3, ...},
    pdfcreator = {LaTeX con el paquete ....},
    pdfproducer = {pdflatex}
}


% Comandos útiles
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LO]{\leftmark}
\fancyhead[RE]{\rightmark}
\fancyhead[RO,LE]{\textbf{\thepage}}
\renewcommand{\chaptermark}[1]{\markboth{\textbf{#1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\textbf{\thesection. #1}}}

\setlength{\headheight}{1.5\headheight}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
% Definimos los tipos teorema, ejemplo y definición podremos usar estos tipos
% simplemente poniendo \begin{teorema} \end{teorema} ...
\newtheorem{teorema}{Teorema}[chapter]
\newtheorem{ejemplo}{Ejemplo}[chapter]
\newtheorem{definicion}{Definición}[chapter]

\definecolor{gray97}{gray}{.97}
\definecolor{gray75}{gray}{.75}
\definecolor{gray45}{gray}{.45}
\definecolor{gray30}{gray}{.94}

\lstset{
    frame=Ltb,
    framerule=0.5pt,
    aboveskip=0.5cm,
    framextopmargin=3pt,
    framexbottommargin=3pt,
    framexleftmargin=0.1cm,
    framesep=0pt,
    rulesep=.4pt,
    backgroundcolor=\color{gray97},
    rulesepcolor=\color{black},
    %
    stringstyle=\ttfamily,
    showstringspaces = false,
    basicstyle=\scriptsize\ttfamily,
    commentstyle=\color{gray45},
    keywordstyle=\bfseries,
    %
    numbers=left,
    numbersep=6pt,
    numberstyle=\tiny,
    numberfirstline = false,
    breaklines=true,
}

% minimizar fragmentado de listados
\lstnewenvironment{listing}[1][]
   {\lstset{#1}\pagebreak[0]}{\pagebreak[0]}

\lstdefinestyle{CodigoC}
{
    basicstyle=\scriptsize,
    frame=single,
    language=C,
    numbers=left
}

\lstdefinestyle{CodigoC++}
{
    basicstyle=\small,
    frame=single,
    backgroundcolor=\color{gray30},
    language=C++,
    numbers=left
}

\lstdefinestyle{Consola}
{
    basicstyle=\scriptsize\bf\ttfamily,
    backgroundcolor=\color{gray30},
    frame=single,
    numbers=none
}


\newcommand{\bigrule}{\titlerule[0.5mm]}

%Para conseguir que en las páginas en blanco no ponga cabecerass
\makeatletter
\def\clearpage{%
    \ifvmode
        \ifnum \@dbltopnum =\m@ne
        \ifdim \pagetotal <\topskip
            \hbox{}
        \fi
        \fi
    \fi
    \newpage
    \thispagestyle{empty}
    \write\m@ne{}
    \vbox{}
    \penalty -\@Mi
}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Imagenes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\graphicspath{ {./imagenes/} }


\title{ \myTitle }
\author{ \myName }

\begin{document}

\input{portada/portada}
\input{prefacios/prefacio}

\newpage
\tableofcontents
\newpage
\listoffigures
\newpage

\input{capitulos/00_objetivos}

\input{capitulos/01_introduccion}

\input{capitulos/02_estado_del_arte}

\input{capitulos/03_aspectos_legales}

\input{capitulos/04_diseno}

\input{capitulos/05_implementacion}

\input{capitulos/06_resultados}

\input{capitulos/07_conclusiones}

\bibliographystyle{plain}
\bibliography{referencias}

\end{document}
